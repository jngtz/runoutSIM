<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulate Runout Paths Using Random Walk and PCM Physics — runoutSim • runoutSIM</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate Runout Paths Using Random Walk and PCM Physics — runoutSim"><meta name="description" content="Simulates the runout paths of mass movements (e.g., debris flows, snow avalanches) from one or more source points
using a physically-informed random walk model. Each path incorporates slope-based directionality,
lateral dispersion, and energy loss based on the Perla-Cheng-McClung (PCM) velocity model."><meta property="og:description" content="Simulates the runout paths of mass movements (e.g., debris flows, snow avalanches) from one or more source points
using a physically-informed random walk model. Each path incorporates slope-based directionality,
lateral dispersion, and energy loss based on the Perla-Cheng-McClung (PCM) velocity model."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">runoutSIM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jngtz/runoutSim/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simulate Runout Paths Using Random Walk and PCM Physics</h1>
      <small class="dont-index">Source: <a href="https://github.com/jngtz/runoutSim/blob/main/R/random_walk.R" class="external-link"><code>R/random_walk.R</code></a></small>
      <div class="d-none name"><code>runoutSim.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Simulates the runout paths of mass movements (e.g., debris flows, snow avalanches) from one or more source points
using a physically-informed random walk model. Each path incorporates slope-based directionality,
lateral dispersion, and energy loss based on the Perla-Cheng-McClung (PCM) velocity model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">runoutSim</span><span class="op">(</span></span>
<span>  <span class="va">dem</span>,</span>
<span>  <span class="va">xy</span>,</span>
<span>  mu <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  md <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  int_vel <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  slp_thresh <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  exp_div <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  per_fct <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  walks <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  source_connect <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  connect_feature <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dem">dem<a class="anchor" aria-label="anchor" href="#arg-dem"></a></dt>
<dd><p>SpatRaster. A digital elevation model (DEM), ideally sink-filled and hydrologically correct.</p></dd>


<dt id="arg-xy">xy<a class="anchor" aria-label="anchor" href="#arg-xy"></a></dt>
<dd><p>Numeric vector or matrix. Coordinates of one or more source points (e.g., <code>cbind(x, y)</code>).</p></dd>


<dt id="arg-mu">mu<a class="anchor" aria-label="anchor" href="#arg-mu"></a></dt>
<dd><p>Numeric. Basal friction coefficient used in the PCM velocity model (default = <code>0.1</code>).</p></dd>


<dt id="arg-md">md<a class="anchor" aria-label="anchor" href="#arg-md"></a></dt>
<dd><p>Numeric. Mass-to-drag ratio used in the PCM model to control deceleration from air drag and terrain resistance.</p></dd>


<dt id="arg-int-vel">int_vel<a class="anchor" aria-label="anchor" href="#arg-int-vel"></a></dt>
<dd><p>Numeric. Initial velocity for PCM model.</p></dd>


<dt id="arg-slp-thresh">slp_thresh<a class="anchor" aria-label="anchor" href="#arg-slp-thresh"></a></dt>
<dd><p>Numeric. Minimum slope (in degrees) required for particle movement. Particles stop when local slope falls below this value.</p></dd>


<dt id="arg-exp-div">exp_div<a class="anchor" aria-label="anchor" href="#arg-exp-div"></a></dt>
<dd><p>Numeric. Lateral dispersion exponent controlling spread of paths away from steepest descent. Higher values = less lateral dispersion.</p></dd>


<dt id="arg-per-fct">per_fct<a class="anchor" aria-label="anchor" href="#arg-per-fct"></a></dt>
<dd><p>Numeric. Persistence factor controlling how strongly particles follow the current downslope direction. Values &gt;1 increase directional inertia.</p></dd>


<dt id="arg-walks">walks<a class="anchor" aria-label="anchor" href="#arg-walks"></a></dt>
<dd><p>Integer. Number of random walk particles to simulate per source point (default = <code>1000</code>).</p></dd>


<dt id="arg-source-connect">source_connect<a class="anchor" aria-label="anchor" href="#arg-source-connect"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, particles are flagged based on whether they intersect a defined connectivity feature (e.g., stream channel).</p></dd>


<dt id="arg-connect-feature">connect_feature<a class="anchor" aria-label="anchor" href="#arg-connect-feature"></a></dt>
<dd><p>SpatRaster. Optional raster of connectivity features created using <code><a href="makeConnFeature.html">makeConnFeature()</a></code>. Required if <code>source_connect = TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of simulated particle paths. Each element contains a matrix or list of stepwise information
(e.g., coordinates, step index, velocity, slope, and connectivity).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function simulates gravity-driven runout from user-defined source cells. Particle paths evolve through
a random walk process biased by terrain slope and lateral spread rules. At each step, the PCM velocity model
updates particle speed based on slope, friction (<code>mu</code>), and mass-to-drag ratio (<code>md</code>).</p>
<p>Paths terminate when slope falls below <code>slp_thresh</code>, or particles encounter terrain conditions that no longer allow
continued downhill movement.</p>
    </div>
    <div class="section level2">
    <h2 id="pcm-model">PCM Model<a class="anchor" aria-label="anchor" href="#pcm-model"></a></h2>


<p>The PCM model (Perla-Cheng-McClung) describes velocity as a balance between gravitational acceleration,
frictional resistance, and air drag. Higher <code>md</code> values imply greater momentum and less deceleration from drag.</p>
    </div>
    <div class="section level2">
    <h2 id="applicability">Applicability<a class="anchor" aria-label="anchor" href="#applicability"></a></h2>


<p>This model can be applied to a variety of gravity-driven mass movements such as <strong>debris flows</strong>, <strong>snow avalanches</strong>,
and other similar phenomena. The random walk approach, combined with the PCM velocity model, makes it highly versatile for
simulating different types of runout based on the underlying physical principles of mass movement.</p>
    </div>
    <div class="section level2">
    <h2 id="connectivity">Connectivity<a class="anchor" aria-label="anchor" href="#connectivity"></a></h2>


<p>If <code>source_connect = TRUE</code>, simulated paths are checked for intersection with a connectivity feature raster.
This enables downstream analysis of connectivity probability (<code><a href="connToRaster.html">connToRaster()</a></code>), or flow velocity surfaces (<code><a href="velocityToRaster.html">velocityToRaster()</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="pcm.html">pcm</a></code>, <code><a href="makeConnFeature.html">makeConnFeature</a></code>, <code><a href="walksToRaster.html">walksToRaster</a></code>,
<code><a href="connToRaster.html">connToRaster</a></code>, <code><a href="velocityToRaster.html">velocityToRaster</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>

    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason Goetz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

